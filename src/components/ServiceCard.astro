---
import { FiArrowRight } from "react-icons/fi";
import type { IconType } from "react-icons/lib";

interface Props {
  title: string;
  description: string;
  features: string[];
  Icon: IconType; // Pasas el icono directamente como componente
}

const { title, description, features, icon: Icon } = Astro.props;

// Funci√≥n de scroll suave (Astro puede usar JS inline con <script>)
---
<div
  data-aos="fade-down"
  class="bg-white/5 border border-white/10 rounded-xl p-6 text-left relative overflow-hidden backdrop-blur-md transition-transform duration-300 hover:shadow-lg hover:shadow-orange-500/10"
>
  <div class="w-16 h-16 flex items-center justify-center mb-4 rounded-full bg-orange-500/10 text-orange-400 text-3xl">
    <Icon />
  </div>

  <h3 class="text-xl font-semibold text-white mb-2">{title}</h3>
  <p class="text-gray-300 mb-4 text-sm">{description}</p>

  <ul class="text-gray-400 text-sm list-disc list-inside space-y-1 mb-6">
    {features.map((item) => (
      <li>{item}</li>
    ))}
  </ul>

  <div class="text-right">
    <a
      href="#contact"
      class="text-orange-400 hover:text-orange-300 text-sm inline-flex items-center gap-1 transition"
      onclick="scrollToSection(event, '#contact')"
    >
      Solicitar servicio <FiArrowRight class:list="text-base" />
    </a>
  </div>
</div>

<script>
  function scrollToSection(e, targetId) {
    const target = document.querySelector(targetId);
    if (!target) return;

    const headerHeight = 80;
    const targetPosition =
      target.getBoundingClientRect().top + window.scrollY;
    const offsetPosition = targetPosition - headerHeight;

    e.preventDefault();
    window.scrollTo({ top: offsetPosition, behavior: "smooth" });
  }
</script>
